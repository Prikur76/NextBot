{% extends "admin/change_list.html" %}
{% load i18n admin_urls %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<style>
.quick-actions {
    margin-top: 20px;
    padding: 15px;
    background: var(--primary-bg);
    border-radius: 5px;
    border: 1px solid var(--border-color);
}
.stats-stub {
    background: var(--primary-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
}
.stats-stub-content {
    display: flex;
    align-items: center;
    gap: 12px;
}
.stats-stub-icon {
    font-size: 24px;
    color: var(--body-quiet-color);
}
.stats-stub-text h3 {
    color: var(--body-fg);
    margin: 0;
    font-size: 14px;
    font-weight: bold;
}
.stats-stub-text p {
    color: var(--body-quiet-color);
    margin: 0;
    font-size: 12px;
}
.stats-link {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    background: var(--primary);
    color: var(--button-fg);
    padding: 6px 12px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 12px;
    font-weight: bold;
    white-space: nowrap;
    border: 1px solid var(--primary);
    transition: all 0.15s;
}
.stats-link:hover {
    background: var(--primary-dark);
    border-color: var(--primary-dark);
    color: var(--button-fg);
}
.stats-link:active {
    background: var(--primary-darker);
    border-color: var(--primary-darker);
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
@media (prefers-color-scheme: dark) {
    .stats-stub, .quick-actions {
        background: var(--darkened-bg);
    }
}
</style>
{% endblock %}

{% block content_title %}
    <h1>‚õΩ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–∞–≤–∫–∞–º–∏</h1>
{% endblock %}

{% block content %}
<!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ -->
<div class="module" style="margin-bottom: 20px;">
    <div class="stats-stub">
        <div class="stats-stub-content">
            <div class="stats-stub-icon">üìä</div>
            <div class="stats-stub-text">
                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–∞–≤–æ–∫</h3>
                <p>–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
            </div>
        </div>
        {% comment %} "/admin/fuel/refueling/statistics/" {% endcomment %}
        <a href="/admin/core/fuelrecord/" class="stats-link">
            üìà –ü–µ—Ä–µ–π—Ç–∏
        </a>
    </div>
    
    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="quick-actions">
        <h5 style="color: var(--body-fg); margin-bottom: 10px;">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <a href="fuel-statistics/" class="btn btn-info btn-sm">üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            <a href="suspicious-records/" class="btn btn-warning btn-sm">üö® –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏</a>
            <a href="export-fuel-report/" class="btn btn-success btn-sm">üì• –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞</a>
            <a href="sync-to-gsheets/" class="btn btn-success btn-sm">üìä –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å GSheets</a>
            {% if cl.result_count %}
            <a href="?approved__exact=0" class="btn btn-outline-warning btn-sm">‚è≥ –û–∂–∏–¥–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ({{ stats.pending_records }})</a>
            {% endif %}
        </div>
    </div>
</div>

<!-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π -->
{{ block.super }}
{% endblock %}

{% block pagination %}{{ block.super }}{% endblock %}