{% extends "admin/change_list.html" %}
{% load i18n admin_urls %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<style>
.quick-actions {
    margin-top: 20px;
    padding: 15px;
    background: var(--primary-bg);
    border-radius: 5px;
    border: 1px solid var(--border-color);
}
.stats-stub {
    background: var(--primary-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
}
.stats-stub-content {
    display: flex;
    align-items: center;
    gap: 12px;
}
.stats-stub-icon {
    font-size: 24px;
    color: var(--body-quiet-color);
}
.stats-stub-text h3 {
    color: var(--body-fg);
    margin: 0;
    font-size: 14px;
    font-weight: bold;
}
.stats-stub-text p {
    color: var(--body-quiet-color);
    margin: 0;
    font-size: 12px;
}
.stats-link {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    background: var(--primary);
    color: var(--button-fg);
    padding: 6px 12px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 12px;
    font-weight: bold;
    white-space: nowrap;
    border: 1px solid var(--primary);
    transition: all 0.15s;
}
.stats-link:hover {
    background: var(--primary-dark);
    border-color: var(--primary-dark);
    color: var(--button-fg);
}
.stats-link:active {
    background: var(--primary-darker);
    border-color: var(--primary-darker);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stats-container {
    margin: 15px 0;
    padding: 15px;
    background: var(--primary-bg);
    border-radius: 5px;
    border-left: 4px solid var(--success);
    border: 1px solid var(--border-color);
}
.stats-grid {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 15px;
}
.stats-column {
    flex: 1;
    min-width: 200px;
    margin: 5px 0;
}
.stats-column strong {
    color: var(--body-fg);
    margin-bottom: 8px;
    display: block;
}
.stats-column ul {
    margin: 0;
    padding-left: 15px;
    color: var(--body-quiet-color);
}
.stats-column li {
    margin-bottom: 4px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ */
.pagination-container {
    margin: 20px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
}
.pagination-info {
    color: var(--body-quiet-color);
    font-size: 13px;
}
.pagination {
    display: flex;
    gap: 5px;
    list-style: none;
    margin: 0;
    padding: 0;
}
.pagination .page-link {
    display: block;
    padding: 6px 12px;
    border: 1px solid var(--border-color);
    border-radius: 3px;
    text-decoration: none;
    color: var(--link-fg);
    background: var(--primary-bg);
    font-size: 13px;
    transition: all 0.15s;
}
.pagination .page-link:hover {
    background: var(--primary);
    color: var(--button-fg);
    border-color: var(--primary);
}
.pagination .current {
    background: var(--primary);
    color: var(--button-fg);
    border-color: var(--primary);
}
.pagination .disabled {
    color: var(--body-lighter-color);
    cursor: not-allowed;
}
.pagination .disabled:hover {
    background: var(--primary-bg);
    color: var(--body-lighter-color);
    border-color: var(--border-color);
}

/* –¶–≤–µ—Ç–æ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ */
.status-active {
    color: var(--success);
}
.status-archived {
    color: var(--body-quiet-color);
}
.status-empty {
    color: var(--warning);
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
@media (prefers-color-scheme: dark) {
    .stats-stub, .quick-actions {
        background: var(--darkened-bg);
    }
    .stats-container {
        border-left-color: var(--success);
    }
}
</style>
{% endblock %}

{% block content_title %}
    <h1>üè¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞–º–∏</h1>
{% endblock %}

{% block object-tools %}
    <div class="object-tools">
        {% block object-tools-items %}
            <li><a href="archive-empty-regions/" class="btn btn-high btn-warning">üßπ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ</a></li>
            <li><a href="region-health-report/" class="btn btn-high btn-info">üìä –û—Ç—á–µ—Ç</a></li>
            {{ block.super }}
        {% endblock %}
    </div>
{% endblock %}

{% block content %}
<!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div class="module" style="margin-bottom: 20px;">
    <div class="stats-stub">
        <div class="stats-stub-content">
            <div class="stats-stub-icon">üìä</div>
            <div class="stats-stub-text">
                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤</h3>
                <p>–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
            </div>
        </div>
        <a href="/admin/core/region/region-health-report/" class="stats-link">
            üìà –ü–µ—Ä–µ–π—Ç–∏
        </a>
    </div>
    
    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="quick-actions">
        <h5 style="color: var(--body-fg); margin-bottom: 10px;">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <a href="archive-empty-regions/" class="btn btn-warning btn-sm">üßπ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ</a>
            <a href="region-health-report/" class="btn btn-info btn-sm">üìä –û—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏</a>            
            <a href="export-regions/" class="btn btn-primary btn-sm">üì• –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–≥–∏–æ–Ω–æ–≤</a>
        </div>
    </div>
</div>

<!-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π -->
{{ block.super }}
{% endblock %}

{% block pagination %}
<!-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è Django Admin —Å–Ω–∏–∑—É -->
{{ block.super }}
{% endblock %}